<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CatÃ¡logo de Temporada | Pasteles Dulce Pame</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <header>
    <h1>ğŸ§ Pasteles Dulce Pame ğŸ§</h1>
    <p>âœ¨ Los sabores mÃ¡s dulces de la ciudad âœ¨</p>
  </header>

  <nav class="menu">
    <button class="tablink" onclick="window.location.href='index.html'">ğŸ° Productos</button>
    <button class="tablink" onclick="window.location.href='index.html#ofertas'">ğŸ‰ Ofertas</button>
    <button class="tablink" onclick="window.location.href='index.html#quienes'">ğŸ‘¨â€ğŸ³ QuiÃ©nes Somos</button>
    <button class="tablink active">ğŸŠ CatÃ¡logo de Temporada</button>
    <button class="tablink" onclick="window.location.href='index.html#ubicacion'">ğŸ“ DÃ³nde Estamos</button>
    <button class="tablink" onclick="window.location.href='index.html#valoraciones'">â­ Valoraciones</button>
  </nav>

  <main>
    <section class="tabcontent active">
      <h2 style="text-align: center; font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: var(--primary-color); margin-bottom: 2rem;">ğŸŠ CatÃ¡logo de Temporada</h2>
      
      <div style="text-align: center; margin-bottom: 30px;">
        <button class="btn" onclick="filtrarTemporada('Halloween')" style="margin: 5px;">ğŸƒ Halloween</button>
        <button class="btn" onclick="filtrarTemporada('Navidad')" style="margin: 5px;">ğŸ„ Navidad</button>
        <button class="btn" onclick="filtrarTemporada('AÃ±o Nuevo')" style="margin: 5px;">ğŸ† AÃ±o Nuevo</button>
        <button class="btn" onclick="filtrarTemporada('Pascua')" style="margin: 5px;">ğŸ° Pascua</button>
        <button class="btn" onclick="filtrarTemporada('DÃ­a de la Madre')" style="margin: 5px;">ğŸ‘© DÃ­a de la Madre</button>
        <button class="btn" onclick="filtrarTemporada('DÃ­a del Padre')" style="margin: 5px;">ğŸ‘¨ DÃ­a del Padre</button>
        <button class="btn" onclick="filtrarTemporada('Dia del NiÃ±o')" style="margin: 5px;">ğŸ‘¶ DÃ­a del NiÃ±o</button>
        <button class="btn" onclick="filtrarTemporada('Otros')" style="margin: 5px;">ğŸˆ Otros</button>
        <button class="btn" onclick="mostrarTodos()" style="margin: 5px;">ğŸ“‹ Ver Todos</button>
      </div>

      <div class="catalogo" id="catalogoTemporada">

        <article class="temporada" data-temporada="Halloween">
          <img src="img/cajita_mix_hallowin.jpg" alt="Cajita Mix Halloween">
          <h3>ğŸƒ Cajita Mix Halloween</h3>
          <p>Deliciosa cajita surtida temÃ¡tica de Halloween. Ideal para compartir o regalar.</p>
          <div class="meta">
            <span class="precio-num">3500</span>
            <span class="precio-texto">$3.500</span>
          </div>
          <div class="producto-actions">
            <input type="number" min="1" value="1" class="qty">
            <button class="btn add-cart" data-nombre="Cajita Mix Halloween" data-precio="3500">ğŸ›’ AÃ±adir</button>
          </div>
        </article>

        <article class="temporada" data-temporada="Halloween">
          <img src="img/cajita_mix_hallowin2.jpg" alt="Cajita Mix Halloween 2">
          <h3>ğŸƒ Cajita Mix Halloween 2</h3>
          <p>Segunda versiÃ³n de la cajita surtida temÃ¡tica Halloween. Perfecta para disfrutar o regalar.</p>
          <div class="meta">
            <span class="precio-num">3500</span>
            <span class="precio-texto">$3.500</span>
          </div>
          <div class="producto-actions">
            <input type="number" min="1" value="1" class="qty">
            <button class="btn add-cart" data-nombre="Cajita Mix Halloween 2" data-precio="3500">ğŸ›’ AÃ±adir</button>
          </div>
        </article>

        <article class="temporada" data-temporada="Halloween">
          <img src="img/cajita_mix_hallowin3.jpg" alt="Chocolates Halloween 3 unidades">
          <h3>ğŸ« Chocolates Halloween (3 unidades)</h3>
          <p>Pack de 3 chocolates temÃ¡ticos de Halloween. Ideal para disfrutar en esta temporada.</p>
          <div class="meta">
            <span class="precio-num">2500</span>
            <span class="precio-texto">$2.500</span>
          </div>
          <div class="producto-actions">
            <input type="number" min="1" value="1" class="qty">
            <button class="btn add-cart" data-nombre="Chocolates Halloween 3 unidades" data-precio="2500">ğŸ›’ AÃ±adir</button>
          </div>
        </article>

        <article class="temporada" data-temporada="Halloween">
          <img src="img/cajita_mix_hallowin4.jpg" alt="AtaÃºd de CuchuflÃ­ 6 unidades">
          <h3>âš°ï¸ AtaÃºd de CuchuflÃ­ (6 unidades)</h3>
          <p>AtaÃºd temÃ¡tico de Halloween relleno con 6 deliciosos cuchuflÃ­ baÃ±ados. Perfecto para decorar y disfrutar.</p>
          <div class="meta">
            <span class="precio-num">2500</span>
            <span class="precio-texto">$2.500</span>
          </div>
          <div class="producto-actions">
            <input type="number" min="1" value="1" class="qty">
            <button class="btn add-cart" data-nombre="AtaÃºd de CuchuflÃ­ 6 unidades" data-precio="2500">ğŸ›’ AÃ±adir</button>
          </div>
        </article>

        <article class="temporada" data-temporada="Otros">
          <img src="/img/cajita_chilena2.jpg" alt="Cajita Chilena 1">
          <h3>ğŸ‡¨ğŸ‡± Cajita Chilena 1</h3>
          <p>Dulces chilenos surtidos en una presentaciÃ³n especial. Incluye 6 unidades perfectas para disfrutar o regalar.</p>
          <div class="meta">
            <span class="precio-num">3500</span>
            <span class="precio-texto">$3.500</span>
          </div>
          <div class="producto-actions">
            <input type="number" min="1" value="1" class="qty">
            <button class="btn add-cart" data-nombre="Cajita Chilena 1" data-precio="3500">ğŸ›’ AÃ±adir</button>
          </div>
        </article>

      </div>
    </section>
  </main>

  <section class="redes">
    <div class="redes__fondo"></div>
    <div class="redes__capa">
      <h2>ğŸŒ SÃ­guenos en redes sociales</h2>
      <p>EntÃ©rate de nuestras promociones y novedades dulces</p>
      <div class="iconos-redes">
        <a href="https://www.instagram.com/dolce.pamee?utm_source=qr&igsh=cjc1MGlvZ25jcGk4" target="_blank" class="social">
          <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram">
        </a>
        <a href="https://www.tiktok.com" target="_blank" class="social">
          <img src="https://cdn-icons-png.flaticon.com/512/3046/3046121.png" alt="TikTok">
        </a>
        <a href="https://www.facebook.com" target="_blank" class="social">
          <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook">
        </a>
        <a href="rodrigo.diaz201619@gmail.com" class="social">
          <img src="https://cdn-icons-png.flaticon.com/512/281/281769.png" alt="Gmail">
        </a>
      </div>
    </div>
  </section>

  <aside id="carrito" aria-label="Carrito de compras">
    <h2>ğŸ›’ Mi Carrito</h2>
    <ul id="listaCarrito"></ul>
    <div id="total">Total: $0</div>
    <div class="acciones">
      <button class="btn" id="vaciarBtn">ğŸ—‘ï¸ Vaciar</button>
      <button class="btn" id="enviarBtn">ğŸ“± Pedir por WhatsApp</button>
    </div>
  </aside>

  <button id="btnSugerencias" title="Dejar sugerencia / valoraciÃ³n">â­ Sugerencias</button>

  <div id="modalSugerencia" class="modal">
    <div class="modal-contenido">
      <span class="cerrar" id="cerrarModal">&times;</span>
      <h2 style="font-family: 'Dancing Script', cursive; color: var(--primary-color); text-align: center; margin-bottom: 20px;">â­ Dejar sugerencia / valoraciÃ³n</h2>
      <label>ğŸ‘¤ Tu nombre</label>
      <input type="text" id="inputNombre" placeholder="Tu nombre (opcional)">
      <label>â­ CalificaciÃ³n</label>
      <div id="stars" class="stars">
        <span data-value="1">â˜†</span>
        <span data-value="2">â˜†</span>
        <span data-value="3">â˜†</span>
        <span data-value="4">â˜†</span>
        <span data-value="5">â˜†</span>
      </div>
      <label>ğŸ’­ Comentario</label>
      <textarea id="inputComentario" placeholder="Escribe tu comentario..."></textarea>
      <div style="margin-top:20px; text-align: center;">
        <button class="btn" id="enviarValoracion">ğŸ“ Enviar valoraciÃ³n</button>
      </div>
    </div>
  </div>

  <a href="https://wa.me/56999335740" target="_blank" class="btn-whatsapp">
    ğŸ’¬ Chat
  </a>

  <footer>
    <p>Â© 2025 Pasteles Dulce Pame | Los sabores mÃ¡s dulces de la ciudad ğŸ§âœ¨</p>
  </footer>

  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    function filtrarTemporada(nombre) {
      const items = document.querySelectorAll("#catalogoTemporada .temporada");
      items.forEach(it => {
        const t = it.dataset.temporada || "";
        it.style.display = (t === nombre) ? "" : "none";
      });
    }

    function mostrarTodos() {
      const items = document.querySelectorAll("#catalogoTemporada .temporada");
      items.forEach(it => {
        it.style.display = "";
      });
    }

    // Carrito de compras
    const carrito = JSON.parse(localStorage.getItem('carrito')) || [];
    const listaCarrito = document.getElementById("listaCarrito");
    const totalDisplay = document.getElementById("total");
    const vaciarBtn = document.getElementById("vaciarBtn");
    const enviarBtn = document.getElementById("enviarBtn");

    document.addEventListener("click", function(e) {
      if (e.target.classList.contains("add-cart")) {
        const productoElement = e.target.closest(".temporada");
        const nombre = e.target.dataset.nombre;
        const precio = parseInt(e.target.dataset.precio);
        const cantidad = parseInt(productoElement.querySelector(".qty").value) || 1;
        agregarAlCarrito(nombre, precio, cantidad);
        actualizarCarrito();
      }
    });

    function agregarAlCarrito(nombre, precio, cantidad) {
      const index = carrito.findIndex(item => item.nombre === nombre);
      if (index > -1) {
        carrito[index].cantidad += cantidad;
      } else {
        carrito.push({ nombre, precio, cantidad });
      }
      localStorage.setItem('carrito', JSON.stringify(carrito));
    }

    function actualizarCarrito() {
      listaCarrito.innerHTML = "";
      let total = 0;
      carrito.forEach((item, index) => {
        const li = document.createElement("li");
        const subtotal = item.precio * item.cantidad;
        total += subtotal;
        li.innerHTML = `
          (${item.cantidad}x) ${item.nombre} - $${subtotal.toLocaleString('es-CL')}
          <button onclick="eliminarDelCarrito(${index})" style="background: none; border: none; cursor: pointer; color: red;">âŒ</button>
        `;
        listaCarrito.appendChild(li);
      });
      totalDisplay.textContent = `Total: $${total.toLocaleString('es-CL')}`;
    }

    function eliminarDelCarrito(index) {
      carrito.splice(index, 1);
      localStorage.setItem('carrito', JSON.stringify(carrito));
      actualizarCarrito();
    }

    vaciarBtn.addEventListener("click", () => {
      carrito.length = 0;
      localStorage.setItem('carrito', JSON.stringify(carrito));
      actualizarCarrito();
    });

    enviarBtn.addEventListener("click", () => {
      if (carrito.length === 0) {
        alert("El carrito estÃ¡ vacÃ­o. Por favor, aÃ±ade algunos productos.");
        return;
      }
      const mensaje = carrito.map(item => {
        const subtotal = item.precio * item.cantidad;
        return `(${item.cantidad}x) ${item.nombre} - $${subtotal.toLocaleString('es-CL')}`;
      }).join('\\n');
      const total = carrito.reduce((sum, item) => sum + item.precio * item.cantidad, 0);
      const mensajeFinal = `Hola, me gustarÃ­a hacer un pedido:\\n\\n${mensaje}\\n\\nTotal a pagar: $${total.toLocaleString('es-CL')}`;
      const numeroWhatsApp = "+56999335740";
      const url = `https://api.whatsapp.com/send?phone=${numeroWhatsApp}&text=${encodeURIComponent(mensajeFinal)}`;
      window.open(url, '_blank');
    });

    actualizarCarrito();

    // Modal y valoraciones
    const modal = document.getElementById("modalSugerencia");
    const btnSugerencias = document.getElementById("btnSugerencias");
    const cerrarModal = document.getElementById("cerrarModal");
    const stars = document.getElementById("stars");
    const enviarValoracionBtn = document.getElementById("enviarValoracion");
    let calValor = 0;

    function highlightStars(rating) {
      const allStars = stars.querySelectorAll('span');
      allStars.forEach((star, index) => {
        star.textContent = index < rating ? 'â˜…' : 'â˜†';
        star.classList.toggle('active', index < rating);
      });
    }

    stars.addEventListener('click', (e) => {
      if (e.target.tagName === 'SPAN') {
        calValor = parseInt(e.target.dataset.value);
        highlightStars(calValor);
      }
    });

    btnSugerencias.onclick = function() {
      modal.style.display = "flex";
      if (calValor > 0) highlightStars(calValor);
    }

    cerrarModal.onclick = function() {
      modal.style.display = "none";
    }

    window.onclick = function(event) {
      if (event.target === modal) {
        modal.style.display = "none";
      }
    }

    enviarValoracionBtn.addEventListener("click", () => {
      if (calValor === 0) {
        alert("Por favor, selecciona una calificaciÃ³n (estrellas).");
        return;
      }
      const nombre = document.getElementById("inputNombre").value || "Cliente AnÃ³nimo";
      const comentario = document.getElementById("inputComentario").value;
      const fecha = new Date().toLocaleDateString('es-CL');
      const reseÃ±a = { nombre, cal: calValor, comentario, fecha };
      const reseÃ±as = JSON.parse(localStorage.getItem("reseÃ±as")) || [];
      reseÃ±as.unshift(reseÃ±a);
      localStorage.setItem("reseÃ±as", JSON.stringify(reseÃ±as));
      document.getElementById("inputNombre").value = "";
      document.getElementById("inputComentario").value = "";
      calValor = 0;
      highlightStars(0);
      alert("Gracias por tu valoraciÃ³n âœ¨");
      modal.style.display = "none";
    });
  </script>
</body>
</html>
